@page "/pdchat"

<h1>PDChat</h1>
<p class="text-muted mb-3">The PDChat component provides a flexible chat interface with multiple docking modes.</p>

<DemoSourceView SourceFiles="Pages/PDChatPage.razor, Pages/PDChatPage.razor.cs">

	<div class="row g-3 mb-3">
		<div class="col-lg-5">
			<div class="card">
				<div class="card-header py-2">
					<h6 class="card-title mb-0">Configuration</h6>
				</div>
				<div class="card-body p-3">
					<div class="mb-3">
						<label class="form-label small">Dock Mode:</label>
						<select @bind="_currentDockMode" class="form-select form-select-sm">
							<option value="@PDChatDockMode.BottomRight">Bottom Right</option>
							<option value="@PDChatDockMode.TopRight">Top Right</option>
							<option value="@PDChatDockMode.BottomLeft">Bottom Left</option>
							<option value="@PDChatDockMode.TopLeft">Top Left</option>
							<option value="@PDChatDockMode.FullScreen">Full Screen</option>
						</select>
					</div>
					
					<div class="mb-3">
						<label class="form-label small">Chat Position:</label>
						<select @bind="_currentChatDockPosition" class="form-select form-select-sm">
							<option value="@PDChatDockPosition.Right">Right</option>
							<option value="@PDChatDockPosition.Left">Left</option>
							<option value="@PDChatDockPosition.Top">Top</option>
							<option value="@PDChatDockPosition.Bottom">Bottom</option>
						</select>
					</div>
					
					<div class="mb-3">
						<label class="form-label small">Chat Title:</label>
						<input type="text" @bind="_chatTitle" class="form-control form-control-sm" placeholder="Enter chat title">
					</div>

					<div class="mb-3">
						<label class="form-label small">User Info Mode:</label>
						<select @bind="_userInfoMode" class="form-select form-select-sm">
							<option value="@UserInfoMode.UserOnlyOnRightOthersOnLeft">User Right, Others Left</option>
							<option value="@UserInfoMode.UserOnlyOnLeftOthersOnRight">User Left, Others Right</option>
							<option value="@UserInfoMode.AlwaysOnLeft">Always Left</option>
							<option value="@UserInfoMode.AlwaysOnRight">Always Right</option>
						</select>
					</div>

					<div class="mb-2">
						<div class="form-check">
							<input class="form-check-input" type="checkbox" @bind="_isMaximizePermitted" id="maximizeCheck">
							<label class="form-check-label small" for="maximizeCheck">Enable Maximize</label>
						</div>
					</div>
					
					<div class="mb-2">
						<div class="form-check">
							<input class="form-check-input" type="checkbox" @bind="_isCanvasUsePermitted" id="canvasCheck">
							<label class="form-check-label small" for="canvasCheck">Enable Canvas</label>
						</div>
					</div>
					
					<div class="mb-2">
						<div class="form-check">
							<input class="form-check-input" type="checkbox" @bind="_isClearPermitted" id="clearCheck">
							<label class="form-check-label small" for="clearCheck">Enable Clear</label>
						</div>
					</div>
					
					<div class="mb-2">
						<div class="form-check">
							<input class="form-check-input" type="checkbox" @bind="_autoRestoreOnNewMessage" id="autoRestoreCheck">
							<label class="form-check-label small" for="autoRestoreCheck">Auto-Restore</label>
						</div>
					</div>

					<div class="mb-2">
						<div class="form-check">
							<input class="form-check-input" type="checkbox" @bind="_useFullWidthMessages" id="fullWidthCheck">
							<label class="form-check-label small" for="fullWidthCheck">Full Width Messages</label>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="col-lg-7">
			<div class="card">
				<div class="card-header py-2">
					<h6 class="card-title mb-0">Actions</h6>
				</div>
				<div class="card-body p-3">
					<div class="row g-2">
						<div class="col-6 col-xl-4">
							<button class="btn btn-primary btn-sm w-100 mb-2" @onclick="SendWelcomeMessage">
								<i class="fas fa-paper-plane me-1"></i>Welcome
							</button>
						</div>
						<div class="col-6 col-xl-4">
							<button class="btn btn-info btn-sm w-100 mb-2" @onclick="SendInfoMessage">
								<i class="fas fa-info-circle me-1"></i>Info
							</button>
						</div>
						<div class="col-6 col-xl-4">
							<button class="btn btn-warning btn-sm w-100 mb-2" @onclick="SendWarningMessage">
								<i class="fas fa-exclamation-triangle me-1"></i>Warning
							</button>
						</div>
						<div class="col-6 col-xl-4">
							<button class="btn btn-danger btn-sm w-100 mb-2" @onclick="SendErrorMessage">
								<i class="fas fa-times-circle me-1"></i>Error
							</button>
						</div>
						<div class="col-6 col-xl-4">
							<button class="btn btn-dark btn-sm w-100 mb-2" @onclick="SendCriticalMessage">
								<i class="fas fa-fire me-1"></i>Critical
							</button>
						</div>
						<div class="col-6 col-xl-4">
							<button class="btn btn-success btn-sm w-100 mb-2" @onclick="SendTypingMessage">
								<i class="fas fa-keyboard me-1"></i>Typing
							</button>
						</div>
						<div class="col-6 col-xl-4">
							<button class="btn btn-secondary btn-sm w-100 mb-2" @onclick="TestAutoRestore">
								<i class="fas fa-robot me-1"></i>Auto-Restore
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<PDChat @ref="_chatRef"
		ChatService="_chatService"
		Title="@_chatTitle"
		DockMode="@_currentDockMode"
		DockModeChanged="@((PDChatDockMode mode) => _currentDockMode = mode)"
		ChatDockPosition="@_currentChatDockPosition"
		UserIconSelector="GetUserIcon"
		PriorityIconSelector="GetPriorityIcon"
		SoundSelector="GetSoundUrl"
		IsMaximizePermitted="_isMaximizePermitted"
		IsCanvasUsePermitted="_isCanvasUsePermitted"
		IsClearPermitted="_isClearPermitted"
		AutoRestoreOnNewMessage="_autoRestoreOnNewMessage"
		UseFullWidthMessages="_useFullWidthMessages"
		UserInfoMode="_userInfoMode"
		OnChatMinimized="OnChatMinimized"
		OnChatRestored="OnChatRestored"
		OnChatMaximized="OnChatMaximized"
		OnMuteToggled="OnMuteToggled"
		OnChatCleared="OnChatCleared"
		OnMessageSent="OnMessageSent"
		OnMessageReceivedEvent="OnMessageReceived"
		OnAutoRestored="OnAutoRestored"
		User="User"
		/>

	<EventView />

</DemoSourceView>