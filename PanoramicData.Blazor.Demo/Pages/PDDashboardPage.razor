@page "/pddashboard"

<h1>PDDashboard</h1>

<DemoSourceView SourceFiles="Pages/PDDashboardPage.razor, Pages/PDDashboardPage.razor.cs">
	<DocumentationContent>
		<PDDashboardDocumentation />
	</DocumentationContent>
	<ChildContent>

		<div class="mb-3 d-flex gap-2 align-items-center flex-wrap">
			<div class="form-check form-switch">
				<input class="form-check-input" type="checkbox" id="displayMode" @bind="_displayMode" />
				<label class="form-check-label" for="displayMode">Display Mode</label>
			</div>
			<div class="form-check form-switch">
				<input class="form-check-input" type="checkbox" id="showName" @bind="_showName" />
				<label class="form-check-label" for="showName">Show Name</label>
			</div>
			<div class="form-check form-switch">
				<input class="form-check-input" type="checkbox" id="showMaximize" @bind="_showMaximize" />
				<label class="form-check-label" for="showMaximize">Dashboard ShowMaximize</label>
			</div>
			<div class="form-check form-switch">
				<input class="form-check-input" type="checkbox" id="clockShowMaximize" @bind="_clockShowMaximize" />
				<label class="form-check-label" for="clockShowMaximize">Clock Tile ShowMaximize (override)</label>
			</div>
			<div class="form-check form-switch">
				<input class="form-check-input" type="checkbox" id="isRotationEnabled" @bind="_isRotationEnabled" />
				<label class="form-check-label" for="isRotationEnabled">Tab Rotation</label>
			</div>
			<div class="form-check form-switch">
				<input class="form-check-input" type="checkbox" id="allowViewModePropertyEdit" @bind="_allowViewModePropertyEdit" />
				<label class="form-check-label" for="allowViewModePropertyEdit">Allow View-Mode Property Edit</label>
			</div>
			<div class="d-flex align-items-center gap-1">
				<label for="rotationInterval" class="mb-0 text-nowrap">Interval (s):</label>
				<input type="number" id="rotationInterval" class="form-control form-control-sm" style="width: 70px;" min="1" max="60" @bind="_rotationIntervalSeconds" />
			</div>
			<div class="d-flex align-items-center gap-1">
				<label for="displayModeHeader" class="mb-0 text-nowrap">Display Header:</label>
				<select id="displayModeHeader" class="form-select form-select-sm" style="width: auto;" @bind="_displayModeHeader">
					<option value="None">None</option>
					<option value="DashboardName">Dashboard Name</option>
					<option value="TabName">Tab Name</option>
					<option value="Both">Both</option>
				</select>
			</div>
		</div>

		<div style="height: 600px; border: 1px solid var(--bs-border-color); border-radius: 0.375rem; overflow: hidden;">
			<PDDashboard @ref="_dashboard"
						 Tabs="_tabs"
						 Name="Operations Dashboard"
						 ShowName="_showName"
						 ColumnCount="4"
						 TileRowHeightPx="140"
						 DisplayMode="_displayMode"
						 DisplayModeHeader="_displayModeHeader"
						 ShowMaximize="_showMaximize"
						 IsRotationEnabled="_isRotationEnabled"
						 RotationIntervalSeconds="_rotationIntervalSeconds"
						 AllowViewModePropertyEdit="_allowViewModePropertyEdit"
						 Properties="_dashboardProperties"
						 OnTileMove="OnTileMoved"
						 OnTileResize="OnTileResized"
						 OnTileDelete="OnTileDeleted"
						 OnTabAdd="OnTabAdded"
						 ActiveTabChanged="OnActiveTabChanged"
						 OnEditModeChanged="OnEditModeChanged"
						 OnSettingsChanged="OnSettingsChanged" />
		</div>

		<EventView />

	</ChildContent>
</DemoSourceView>
