@page "/pdlist"

<h1>PDList</h1>

<DemoSourceView SourceFiles="Pages/PDListPage.razor, Pages/PDListPage.razor.cs">

    <div class="">
        <EditForm Model="this" class="toolbar">

@*            <div class="">
                <label class="form-check-label">Enabled</label>
                <InputCheckbox @bind-Value="_isEnabled" />
            </div>

            <div class="">
                <label class="form-check-label">Invert</label>
                <InputCheckbox @bind-Value="_invert" />
            </div>

            <div class="">
                <label class="form-label">Start</label>
                <InputNumber @bind-Value="_range1.Start" step="5" />
            </div>

            <div class="">
                <label class="form-label">End</label>
                <InputNumber @bind-Value="_range1.End" step="5" />
            </div>
*@
        </EditForm>

        <h3>Basic List</h3>
        <span class="text-muted small">Constrained in height by surrounding div and CSS</span>

        <div class="list1">
            <PDList DataProvider="_dataProvider" />
        </div>

        <hr/>
        <h3>Sorted and Paged</h3>
        <span class="text-muted small">With TextExpression used to set text</span>

        <div class="list2">
            <PDList DataProvider="_dataProvider"
                PageInfo="new PageCriteria()"
                ShowPager="true"
                Size="ButtonSizes.Small"
                SortDirection="SortDirection.Ascending"
                SortExpression="(c) => c.ToString()"
                TextExpression="@((c) => $"{c.Make} {c.Model} ({c.FromYear}-{(c.ToYear.HasValue ? c.ToYear : "Present")})")" />
        </div>

        <hr />
        <h3>Item Template</h3>
        <span class="text-muted small">With simple single selection</span>

        <div class="list3">
            <PDList DataProvider="_dataProvider"
                    SelectionChanged="OnSelectionChanged"
                    SelectionMode="TableSelectionMode.Single"
                    SortDirection="SortDirection.Ascending"
                    TItem="Car">
                    <ItemTemplate Context="car">
                        <div class="d-flex justify-content-between w-100-pct">
                            <span>@car.Make @car.Model</span>
                            <span class="small">@car.FromYear - @(car.ToYear.HasValue ? car.ToYear : "Present")</span>
                        </div>
                    </ItemTemplate>
            </PDList>
        </div>


        <hr />
        <h3>Multiple Selection</h3>
        <span class="text-muted small">Supports Ctrl key (to toggle) and Shift key (to select range from last selected)</span>

        <div class="list4">
            <PDList DataProvider="_dataProvider"
                    SelectionChanged="OnSelectionChanged"
                    SelectionMode="TableSelectionMode.Multiple"
                    SortDirection="SortDirection.Ascending"
                    TItem="Car" />
        </div>

        <hr />
        <h3>Multiple Selection</h3>
        <span class="text-muted small">With check boxes, item template and displays 'All' checkbox</span>

        <div class="list5">
            <PDList AllCheckBoxWhenPartial="SelectionBehaviours.SelectAll"
                    DataProvider="_dataProvider"
                    SelectionChanged="OnSelectionChanged"
                    SelectionMode="TableSelectionMode.Multiple"
                    ShowAllCheckBox="true"
                    ShowCheckBoxes="true"
                    SortDirection="SortDirection.Ascending"
                    TItem="Car">
                    <ItemTemplate Context="car">
                        <div class="d-flex justify-content-between w-100-pct">
                            <span>@car.Make @car.Model</span>
                            <span class="small">@car.FromYear - @(car.ToYear.HasValue ? car.ToYear : "Present")</span>
                        </div>
                    </ItemTemplate>
            </PDList>
        </div>

    </div>

    <div class="mt-4">
        <EventView />
    </div>

</DemoSourceView>
